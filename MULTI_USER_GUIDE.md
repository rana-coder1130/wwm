# 多使用者功能指南

## 概述

燕雲十六聲現已支援在同台電腦上創建多位使用者，每位使用者的待辦清單、計時器、設置等數據完全隔離，互不影響。

## 使用方式

### 1. 開啟使用者選單

在頁面右上方 Header 中，點擊👤圖示即可開啟**使用者管理面板**。

### 2. 新增使用者

- 在面板底部輸入新使用者名稱（例：「玩家2」、「小米」）
- 點擊 **+ 新增使用者** 按鈕
- 新使用者將自動成為當前使用者，其數據將與其他使用者完全隔離

### 3. 切換使用者

- 在使用者清單中點擊要切換的使用者名稱
- 所有數據（待辦、計時、設置）會立即切換至該使用者的數據
- 名稱旁標註 **(目前)** 表示當前活躍使用者

### 4. 編輯使用者名稱

- 在清單中找到該使用者，點擊右側 **✏️** 編輯按鈕
- 輸入新名稱
- 按 **✓** 確認或按 **✕** 取消

### 5. 刪除使用者

- 點擊該使用者旁的 **🗑️** 按鈕
- 確認刪除（該使用者的所有數據會被永久刪除）
- 若刪除當前使用者，系統將自動切換至其他可用使用者

## 數據隔離

每位使用者擁有獨立的：

- ✅ 待辦清單（日任務、週任務、隱藏任務）
- ⏱️ 採集計時器數據
- ⚔️ 流派配置選擇
- 🌙 暗色模式設置

> **注意**：暗色模式目前為全域設置，所有使用者共享同一個偏好設定。

## 技術詳情

### 本地存儲結構

- 使用者清單：`yanyunUsers`（JSON 陣列）
- 當前使用者：`yanyunCurrentUser`（使用者 ID）
- 使用者數據：`{userId}:key` 格式
  - 例：`user_1234567890:yanyunChecklist` 存儲玩家1的待辦數據

### 首次使用

首次訪問應用時，系統會自動建立預設使用者「玩家1」，您可隨時更名或新增其他使用者。

### 離線保存

所有使用者數據均存儲於瀏覽器 `localStorage`，不需網路連線。切換使用者時，應用會自動讀取對應使用者的本地數據。

## 常見問題

**Q: 可以有多少個使用者？**  
A: 理論上無限，實際上受限於瀏覽器 `localStorage` 容量（通常 5-10 MB）。

**Q: 刪除使用者後能復原嗎？**  
A: 否，刪除操作不可復原。請謹慎操作。

**Q: 怎樣備份使用者數據？**  
A: 打開瀏覽器開發者工具 → Application → Local Storage → 複製需要的 key-value 對。

**Q: 多個瀏覽器/裝置間能否同步？**  
A: 目前不支援。數據僅存儲在各自的瀏覽器 `localStorage` 中。

---

祝遊戲愉快！ 🎮
